<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!--<img id = "pic" src = pics/clone.png" >-->
    <canvas width="1280" height="1024"></canvas>
    <script>
        let cx = document.querySelector("canvas").getContext("2d");

        let img = document.createElement('img');
        img.src = 'pics/jam.png';

        let x, y;
        // let x1 = 100, y1 = 100,
        //     x2 = 200, y2 = 50,
        //     x3 = 300, y3 = 150,
        //     x4 = 400, y4 = 84;

        let x1 = getRnd(), y1 = getRnd();
        let x2 = getRnd(), y2 = getRnd();
        let x3 = getRnd(), y3 = getRnd();
        let x4 = getRnd(), y4 = getRnd();

        function getRnd() {
            return Math.floor(Math.random() * (500 - 1)) + 1;
        }

        // cx.beginPath();
        // cx.moveTo(x1, y1);
        // for (let t = 0; t <= 1; t+= 0.05)
        // {
        //     // x = (1 - t) * (1 - t) * x1 + 2 * t * (1 - t) * x2 + t * t * x3;
        //     // y = (1 - t) * (1 - t) * y1 + 2 * t * (1 - t) * y2 + t * t * y3;
        //
        //     x = Math.pow((1 - t), 3) * x1 + 3 * Math.pow((1 - t), 2) * t * x2 + 3 * (1 - t) * t * t * x3 + t * t * t * x4;
        //     y = Math.pow((1 - t), 3) * y1 + 3 * Math.pow((1 - t), 2) * t * y2 + 3 * (1 - t) * t * t * y3 + t * t * t * y4;
        //
        //     cx.lineTo(x, y);
        // }
        // cx.stroke();

        let k = 0;

        function draw(img, x, y)
        {
            // cx.clearRect(0, 0, 1280, 1024);
            cx.drawImage(img, x, y);
        }


        function loop() {

            for (let t = 0; t <= 1; t += 0.05) {

                x = Math.pow((1 - t), 3) * x1 + 3 * Math.pow((1 - t), 2) * t * x2 + 3 * (1 - t) * t * t * x3 + t * t * t * x4;
                y = Math.pow((1 - t), 3) * y1 + 3 * Math.pow((1 - t), 2) * t * y2 + 3 * (1 - t) * t * t * y3 + t * t * t * y4;

                //requestAnimationFrame(loop);

                // cx.clearRect(0, 0, 1280, 1024);
                // cx.drawImage(img, x, y);

                // setTimeout(draw, 1000);


                cx.drawImage(img, x, y);

                // setTimeout(loop, 1000);
                // requestAnimationFrame(loop);
            }

            x1 = x4;
            y1 = y4;
            x2 = getRnd();
            y2 = getRnd();
            x3 = getRnd();
            y3 = getRnd();
            x4 = getRnd();
            y4 = getRnd();
            // cx.clearRect(0, 0, 1280, 1024);
            k++;
        }

        // loop();

        animate();

        function animate()
        {
            setTimeout(function() {
                requestAnimationFrame(animate);
                loop();
            }
        , 1000);
        }

    </script>
</body>
</html>