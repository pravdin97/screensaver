<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="canvas" ></canvas>
<script>

    let cx = document.querySelector("canvas").getContext("2d");
    let canvas = document.getElementById("canvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let img = document.createElement('img');
    img.src = 'pics/clone.png';

    let boundX = window.innerWidth;
    let boundY = window.innerHeight;

    let x, y;

    let x1 = getRnd(), y1 = getRnd();
    let x2 = getRnd(), y2 = getRnd();
    let x3 = getRnd(), y3 = getRnd();
    let x4 = getRnd(), y4 = getRnd();

    function getRnd() {
        return Math.floor(Math.random() * (500 - 1)) + 1;
    }

    let line = new BezierCurve();
    line.calc();

    setInterval(function(){
        line.update();
        line.draw();
        line.checkBounds();
    },10);

    function Dot(x, y) {
        this.x = x;
        this.y = y;
    }

    function BezierCurve() {
        let dots = [];
        let directionX = 1, directionY = 1;

        this.calc = function () {
            for (let t = 0; t <= 1; t += 0.05) {
                x = Math.pow((1 - t), 3) * x1 + 3 * Math.pow((1 - t), 2) * t * x2 + 3 * (1 - t) * t * t * x3 + t * t * t * x4;
                y = Math.pow((1 - t), 3) * y1 + 3 * Math.pow((1 - t), 2) * t * y2 + 3 * (1 - t) * t * t * y3 + t * t * t * y4;

                let p = new Dot(x, y);

                dots.push(p);
            }
        };

        this.draw = function() {
            cx.beginPath();
            cx.moveTo(x1, y1);
            for (let i = 0; i < dots.length; i++)
            {
                cx.lineTo(dots[i].x, dots[i].y);
            }
            cx.stroke();
        };

        this.update = function() {
            dx = Math.random();
            dy = Math.random();
            for (let i = 0; i < dots.length; i++)
            {
                dots[i].x += (dx * directionX);
                dots[i].y += (dy * directionY);
            }
        };

        this.checkBounds = function() {
            let minX = dots[0].x, minY = dots[0].y, maxX = dots[0].x, maxY = dots[0].y;

            for (let i = 0; i < dots.length; i++) {
                if (dots[i].x < minX)
                    minX = dots[i].x;

                if (dots[i].y < minY)
                    minY = dots[i].y;

                if (dots[i].x > maxX)
                    maxX = dots[i].x;

                if (dots[i].y > maxY)
                    maxY = dots[i].y;
            }

            if (minY < 0 || maxY > boundY)
                directionY *= -1

            if (minX < 0 || maxX > boundX)
                directionX *= -1
        }
    }
</script>
</body>
</html>